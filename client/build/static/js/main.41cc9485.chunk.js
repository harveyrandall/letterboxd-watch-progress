(this.webpackJsonpletterboxd=this.webpackJsonpletterboxd||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a.n(s),c=(a(10),a(1)),l=(a(11),function(e){var t=e.cssClass?"status-box ".concat(e.cssClass):"status-box";return r.a.createElement("div",{className:t},r.a.createElement("p",null,e.message),r.a.createElement("h2",null,e.value))}),i=function(e){var t=e.progress,a="Days behind",n="positive";return t>0?a="Days ahead":t<0&&(n="negative"),r.a.createElement(l,{message:a,value:Math.abs(t),cssClass:n})},u=function(e){var t=e.dayOfYear,a=e.progress,n=e.watched;return r.a.createElement("div",{className:"status-row"},r.a.createElement(l,{message:"Day of the year",value:t}),r.a.createElement(l,{message:"Total films watched",value:n}),r.a.createElement(i,{progress:a}))},d=a(4),f=a.n(d),m=function(e){for(var t=Object(n.useRef)(null),a=Object.keys(e.data),s=Object.values(e.data),o=[],c=1;c<=a.length;c++)o.push(c);var l={type:"line",data:{labels:a,datasets:[{label:"Watched",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",fill:!1,data:s},{label:"One a day average",backgroundColor:"rgb(54, 162, 235)",borderColor:"rgb(54, 162, 235)",fill:!1,data:o}]},options:{responsive:!0,showXLabels:10,title:{display:!0,text:"Progress vs. Average"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Day",fontSize:16},type:"time",ticks:{autoSkip:!0,maxTicksLimit:12}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Count",fontSize:16}}]}}};return Object(n.useEffect)((function(){if(t.current)new f.a(t.current,l)}),[t,l]),r.a.createElement("canvas",{id:"watched",ref:t})};var b=function(){var e=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=e-t+1e3*(t.getTimezoneOffset()-e.getTimezoneOffset())*60;return Math.ceil(a/864e5)}(),t=Object(n.useState)(0),a=Object(c.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(0),i=Object(c.a)(l,2),d=i[0],f=i[1],b=Object(n.useState)({}),v=Object(c.a)(b,2),g=v[0],h=v[1];return Object(n.useEffect)((function(){fetch("/api/daily").then((function(e){return e.json()})).then((function(t){h(t.diary);var a=Object.values(t.diary).reduce((function(e,t){return Math.max(e,t)}));f(a),o(a-e)}))}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(u,{dayOfYear:e,progress:s,watched:d}),r.a.createElement(m,{dayOfYear:e,data:g}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports=a(14)}},[[5,1,2]]]);
//# sourceMappingURL=main.41cc9485.chunk.js.map